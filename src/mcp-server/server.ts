/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { DocumensoCore } from "../core.js";
import { SDKOptions } from "../lib/config.js";
import type { ConsoleLogger } from "./console-logger.js";
import { createRegisterPrompt } from "./prompts.js";
import {
  createRegisterResource,
  createRegisterResourceTemplate,
} from "./resources.js";
import { MCPScope } from "./scopes.js";
import { createRegisterTool } from "./tools.js";
import { tool$documentDocumentAttachmentCreate } from "./tools/documentDocumentAttachmentCreate.js";
import { tool$documentDocumentAttachmentDelete } from "./tools/documentDocumentAttachmentDelete.js";
import { tool$documentDocumentAttachmentFind } from "./tools/documentDocumentAttachmentFind.js";
import { tool$documentDocumentAttachmentUpdate } from "./tools/documentDocumentAttachmentUpdate.js";
import { tool$documentDocumentCreate } from "./tools/documentDocumentCreate.js";
import { tool$documentDocumentCreateDocumentFormData } from "./tools/documentDocumentCreateDocumentFormData.js";
import { tool$documentDocumentDownload } from "./tools/documentDocumentDownload.js";
import { tool$documentDocumentDownloadBeta } from "./tools/documentDocumentDownloadBeta.js";
import { tool$documentsCreateV0 } from "./tools/documentsCreateV0.js";
import { tool$documentsDelete } from "./tools/documentsDelete.js";
import { tool$documentsDistribute } from "./tools/documentsDistribute.js";
import { tool$documentsDuplicate } from "./tools/documentsDuplicate.js";
import { tool$documentsFieldsCreate } from "./tools/documentsFieldsCreate.js";
import { tool$documentsFieldsCreateMany } from "./tools/documentsFieldsCreateMany.js";
import { tool$documentsFieldsDelete } from "./tools/documentsFieldsDelete.js";
import { tool$documentsFieldsGet } from "./tools/documentsFieldsGet.js";
import { tool$documentsFieldsUpdate } from "./tools/documentsFieldsUpdate.js";
import { tool$documentsFieldsUpdateMany } from "./tools/documentsFieldsUpdateMany.js";
import { tool$documentsFind } from "./tools/documentsFind.js";
import { tool$documentsGet } from "./tools/documentsGet.js";
import { tool$documentsRecipientsCreate } from "./tools/documentsRecipientsCreate.js";
import { tool$documentsRecipientsCreateMany } from "./tools/documentsRecipientsCreateMany.js";
import { tool$documentsRecipientsDelete } from "./tools/documentsRecipientsDelete.js";
import { tool$documentsRecipientsGet } from "./tools/documentsRecipientsGet.js";
import { tool$documentsRecipientsUpdate } from "./tools/documentsRecipientsUpdate.js";
import { tool$documentsRecipientsUpdateMany } from "./tools/documentsRecipientsUpdateMany.js";
import { tool$documentsRedistribute } from "./tools/documentsRedistribute.js";
import { tool$documentsUpdate } from "./tools/documentsUpdate.js";
import { tool$embeddingEmbeddingPresignCreateEmbeddingPresignToken } from "./tools/embeddingEmbeddingPresignCreateEmbeddingPresignToken.js";
import { tool$embeddingEmbeddingPresignVerifyEmbeddingPresignToken } from "./tools/embeddingEmbeddingPresignVerifyEmbeddingPresignToken.js";
import { tool$envelopeAttachmentsEnvelopeAttachmentCreate } from "./tools/envelopeAttachmentsEnvelopeAttachmentCreate.js";
import { tool$envelopeAttachmentsEnvelopeAttachmentDelete } from "./tools/envelopeAttachmentsEnvelopeAttachmentDelete.js";
import { tool$envelopeAttachmentsEnvelopeAttachmentFind } from "./tools/envelopeAttachmentsEnvelopeAttachmentFind.js";
import { tool$envelopeAttachmentsEnvelopeAttachmentUpdate } from "./tools/envelopeAttachmentsEnvelopeAttachmentUpdate.js";
import { tool$envelopeEnvelopeCreate } from "./tools/envelopeEnvelopeCreate.js";
import { tool$envelopeEnvelopeDelete } from "./tools/envelopeEnvelopeDelete.js";
import { tool$envelopeEnvelopeDistribute } from "./tools/envelopeEnvelopeDistribute.js";
import { tool$envelopeEnvelopeDuplicate } from "./tools/envelopeEnvelopeDuplicate.js";
import { tool$envelopeEnvelopeGet } from "./tools/envelopeEnvelopeGet.js";
import { tool$envelopeEnvelopeRedistribute } from "./tools/envelopeEnvelopeRedistribute.js";
import { tool$envelopeEnvelopeUpdate } from "./tools/envelopeEnvelopeUpdate.js";
import { tool$envelopeEnvelopeUse } from "./tools/envelopeEnvelopeUse.js";
import { tool$envelopeFieldsEnvelopeFieldCreateMany } from "./tools/envelopeFieldsEnvelopeFieldCreateMany.js";
import { tool$envelopeFieldsEnvelopeFieldDelete } from "./tools/envelopeFieldsEnvelopeFieldDelete.js";
import { tool$envelopeFieldsEnvelopeFieldGet } from "./tools/envelopeFieldsEnvelopeFieldGet.js";
import { tool$envelopeFieldsEnvelopeFieldUpdateMany } from "./tools/envelopeFieldsEnvelopeFieldUpdateMany.js";
import { tool$envelopeItemsEnvelopeItemCreateMany } from "./tools/envelopeItemsEnvelopeItemCreateMany.js";
import { tool$envelopeItemsEnvelopeItemDelete } from "./tools/envelopeItemsEnvelopeItemDelete.js";
import { tool$envelopeItemsEnvelopeItemUpdateMany } from "./tools/envelopeItemsEnvelopeItemUpdateMany.js";
import { tool$envelopeRecipientsEnvelopeRecipientCreateMany } from "./tools/envelopeRecipientsEnvelopeRecipientCreateMany.js";
import { tool$envelopeRecipientsEnvelopeRecipientDelete } from "./tools/envelopeRecipientsEnvelopeRecipientDelete.js";
import { tool$envelopeRecipientsEnvelopeRecipientGet } from "./tools/envelopeRecipientsEnvelopeRecipientGet.js";
import { tool$envelopeRecipientsEnvelopeRecipientUpdateMany } from "./tools/envelopeRecipientsEnvelopeRecipientUpdateMany.js";
import { tool$folderFolderCreateFolder } from "./tools/folderFolderCreateFolder.js";
import { tool$folderFolderDeleteFolder } from "./tools/folderFolderDeleteFolder.js";
import { tool$folderFolderFindFolders } from "./tools/folderFolderFindFolders.js";
import { tool$folderFolderUpdateFolder } from "./tools/folderFolderUpdateFolder.js";
import { tool$templatesDelete } from "./tools/templatesDelete.js";
import { tool$templatesDirectLinkCreate } from "./tools/templatesDirectLinkCreate.js";
import { tool$templatesDirectLinkDelete } from "./tools/templatesDirectLinkDelete.js";
import { tool$templatesDirectLinkToggle } from "./tools/templatesDirectLinkToggle.js";
import { tool$templatesDuplicate } from "./tools/templatesDuplicate.js";
import { tool$templatesFieldsCreate } from "./tools/templatesFieldsCreate.js";
import { tool$templatesFieldsCreateMany } from "./tools/templatesFieldsCreateMany.js";
import { tool$templatesFieldsDelete } from "./tools/templatesFieldsDelete.js";
import { tool$templatesFieldsGet } from "./tools/templatesFieldsGet.js";
import { tool$templatesFieldsUpdate } from "./tools/templatesFieldsUpdate.js";
import { tool$templatesFieldsUpdateMany } from "./tools/templatesFieldsUpdateMany.js";
import { tool$templatesFind } from "./tools/templatesFind.js";
import { tool$templatesGet } from "./tools/templatesGet.js";
import { tool$templatesRecipientsCreate } from "./tools/templatesRecipientsCreate.js";
import { tool$templatesRecipientsCreateMany } from "./tools/templatesRecipientsCreateMany.js";
import { tool$templatesRecipientsDelete } from "./tools/templatesRecipientsDelete.js";
import { tool$templatesRecipientsGet } from "./tools/templatesRecipientsGet.js";
import { tool$templatesRecipientsUpdate } from "./tools/templatesRecipientsUpdate.js";
import { tool$templatesRecipientsUpdateMany } from "./tools/templatesRecipientsUpdateMany.js";
import { tool$templatesUpdate } from "./tools/templatesUpdate.js";
import { tool$templatesUse } from "./tools/templatesUse.js";
import { tool$templateTemplateCreateTemplate } from "./tools/templateTemplateCreateTemplate.js";
import { tool$templateTemplateCreateTemplateTemporary } from "./tools/templateTemplateCreateTemplateTemporary.js";

export function createMCPServer(deps: {
  logger: ConsoleLogger;
  allowedTools?: string[] | undefined;
  scopes?: MCPScope[] | undefined;
  serverURL?: string | undefined;
  apiKey?: SDKOptions["apiKey"] | undefined;
  serverIdx?: SDKOptions["serverIdx"] | undefined;
}) {
  const server = new McpServer({
    name: "Documenso",
    version: "0.5.0",
  });

  const client = new DocumensoCore({
    apiKey: deps.apiKey,
    serverURL: deps.serverURL,
    serverIdx: deps.serverIdx,
  });

  const scopes = new Set(deps.scopes);

  const allowedTools = deps.allowedTools && new Set(deps.allowedTools);
  const tool = createRegisterTool(
    deps.logger,
    server,
    client,
    scopes,
    allowedTools,
  );
  const resource = createRegisterResource(deps.logger, server, client, scopes);
  const resourceTemplate = createRegisterResourceTemplate(
    deps.logger,
    server,
    client,
    scopes,
  );
  const prompt = createRegisterPrompt(deps.logger, server, client, scopes);
  const register = { tool, resource, resourceTemplate, prompt };
  void register; // suppress unused warnings

  tool(tool$envelopeAttachmentsEnvelopeAttachmentFind);
  tool(tool$envelopeAttachmentsEnvelopeAttachmentCreate);
  tool(tool$envelopeAttachmentsEnvelopeAttachmentUpdate);
  tool(tool$envelopeAttachmentsEnvelopeAttachmentDelete);
  tool(tool$envelopeItemsEnvelopeItemCreateMany);
  tool(tool$envelopeItemsEnvelopeItemUpdateMany);
  tool(tool$envelopeItemsEnvelopeItemDelete);
  tool(tool$envelopeRecipientsEnvelopeRecipientGet);
  tool(tool$envelopeRecipientsEnvelopeRecipientCreateMany);
  tool(tool$envelopeRecipientsEnvelopeRecipientUpdateMany);
  tool(tool$envelopeRecipientsEnvelopeRecipientDelete);
  tool(tool$envelopeFieldsEnvelopeFieldGet);
  tool(tool$envelopeFieldsEnvelopeFieldCreateMany);
  tool(tool$envelopeFieldsEnvelopeFieldUpdateMany);
  tool(tool$envelopeFieldsEnvelopeFieldDelete);
  tool(tool$envelopeEnvelopeGet);
  tool(tool$envelopeEnvelopeCreate);
  tool(tool$envelopeEnvelopeUse);
  tool(tool$envelopeEnvelopeUpdate);
  tool(tool$envelopeEnvelopeDelete);
  tool(tool$envelopeEnvelopeDuplicate);
  tool(tool$envelopeEnvelopeDistribute);
  tool(tool$envelopeEnvelopeRedistribute);
  tool(tool$documentsGet);
  tool(tool$documentsFind);
  tool(tool$documentsUpdate);
  tool(tool$documentsDelete);
  tool(tool$documentsDuplicate);
  tool(tool$documentsDistribute);
  tool(tool$documentsRedistribute);
  tool(tool$documentsCreateV0);
  tool(tool$documentDocumentCreate);
  tool(tool$documentDocumentDownloadBeta);
  tool(tool$documentDocumentDownload);
  tool(tool$documentDocumentCreateDocumentFormData);
  tool(tool$documentDocumentAttachmentCreate);
  tool(tool$documentDocumentAttachmentUpdate);
  tool(tool$documentDocumentAttachmentDelete);
  tool(tool$documentDocumentAttachmentFind);
  tool(tool$templatesFind);
  tool(tool$templatesGet);
  tool(tool$templatesUpdate);
  tool(tool$templatesDuplicate);
  tool(tool$templatesDelete);
  tool(tool$templatesUse);
  tool(tool$folderFolderFindFolders);
  tool(tool$folderFolderCreateFolder);
  tool(tool$folderFolderUpdateFolder);
  tool(tool$folderFolderDeleteFolder);
  tool(tool$templateTemplateCreateTemplate);
  tool(tool$templateTemplateCreateTemplateTemporary);
  tool(tool$embeddingEmbeddingPresignCreateEmbeddingPresignToken);
  tool(tool$embeddingEmbeddingPresignVerifyEmbeddingPresignToken);
  tool(tool$documentsFieldsGet);
  tool(tool$documentsFieldsCreate);
  tool(tool$documentsFieldsCreateMany);
  tool(tool$documentsFieldsUpdate);
  tool(tool$documentsFieldsUpdateMany);
  tool(tool$documentsFieldsDelete);
  tool(tool$documentsRecipientsGet);
  tool(tool$documentsRecipientsCreate);
  tool(tool$documentsRecipientsCreateMany);
  tool(tool$documentsRecipientsUpdate);
  tool(tool$documentsRecipientsUpdateMany);
  tool(tool$documentsRecipientsDelete);
  tool(tool$templatesFieldsCreate);
  tool(tool$templatesFieldsGet);
  tool(tool$templatesFieldsCreateMany);
  tool(tool$templatesFieldsUpdate);
  tool(tool$templatesFieldsUpdateMany);
  tool(tool$templatesFieldsDelete);
  tool(tool$templatesRecipientsGet);
  tool(tool$templatesRecipientsCreate);
  tool(tool$templatesRecipientsCreateMany);
  tool(tool$templatesRecipientsUpdate);
  tool(tool$templatesRecipientsUpdateMany);
  tool(tool$templatesRecipientsDelete);
  tool(tool$templatesDirectLinkCreate);
  tool(tool$templatesDirectLinkDelete);
  tool(tool$templatesDirectLinkToggle);

  return server;
}
